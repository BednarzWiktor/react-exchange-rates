(this["webpackJsonpreact-currency-converter"]=this["webpackJsonpreact-currency-converter"]||[]).push([[0],{116:function(e,a,t){e.exports=t(150)},149:function(e,a,t){},150:function(e,a,t){"use strict";t.r(a);var n,r=t(0),c=t.n(r),o=t(11),s=t.n(o),l=t(33),i=t(90),u=t(16),m=t(49),g=t(70),d=t(91),f=t.n(d),p=t(51),y=t(35);!function(e){e.EUR="EUR",e.CAD="CAD",e.HKD="HKD",e.ISK="ISK",e.PHP="PHP",e.DKK="DKK",e.HUF="HUF",e.CZK="CZK",e.AUD="AUD",e.RON="RON",e.SEK="SEK",e.IDR="IDR",e.INR="INR",e.BRL="BRL",e.RUB="RUB",e.HRK="HRK",e.JPY="JPY",e.THB="THB",e.CHF="CHF",e.SGD="SGD",e.PLN="PLN",e.BGN="BGN",e.TRY="TRY",e.CNY="CNY",e.NOK="NOK",e.NZD="NZD",e.ZAR="ZAR",e.USD="USD",e.MXN="MXN",e.ILS="ILS",e.GBP="GBP",e.KRW="KRW",e.MYR="MYR"}(n||(n={}));var b={baseCurrency:n.EUR,rateHistorySearchConfig:{dateFrom:new Date("2020-01-1"),dateTo:new Date,targetCurrency:null},amount:1,result:{exchangeRates:[],rateHistory:[]},isLoading:{exchangeRates:!1,rateHistory:!1}},h=Object(m.b)({name:"exchangeRates",initialState:b,reducers:{setBaseCurrency:function(e,a){var t=a.payload.baseCurrency;e.baseCurrency=t},updateRateHistorySearchConfig:function(e,a){var t=a.payload;e.rateHistorySearchConfig=Object(y.a)({},e.rateHistorySearchConfig,{},t)},setAmount:function(e,a){var t=a.payload.amount;e.amount=t},setResultExchangeRates:function(e,a){var t=a.payload.resultExchangeRates;e.result.exchangeRates=t},setResultRateHistory:function(e,a){var t=a.payload.resultRateHistory;e.result.rateHistory=t},setIsLoadingByTarget:function(e,a){var t=a.payload,n=t.target,r=t.isLoading;e.isLoading[n]=r}}}),E=h.actions,v=E.setBaseCurrency,R=E.setAmount,C=E.updateRateHistorySearchConfig,x=E.setResultExchangeRates,_=E.setResultRateHistory,H=E.setIsLoadingByTarget,O=h.reducer,N={exchangeRates:b},j=Object(u.c)({exchangeRates:O}),S={key:"root",storage:f.a},w=Object(m.a)({reducer:Object(g.a)(S,j),devTools:!1,preloadedState:N,middleware:[p.a]}),D=Object(g.b)(w),L=t(202),T=t(21),B=t(30),K=t(68),k=function(e){return e.length<2?"0".concat(e):e},F=function(e){var a=new Date(e);return[a.getFullYear(),k("".concat(a.getMonth()+1)),k("".concat(a.getDate()))].join("-")},M=function(e){return e&&e.length>0?"?".concat(e.join("&")):null},I=function(e){var a=e.base,t=e.symbols,n=[a&&"base=".concat(a),t&&"symbols=".concat(t)].filter((function(e){return!!e}));return M(n)},A=function(e){var a=e.base,t=e.symbols,n=e.dateStringifiedFrom,r=e.dateStringifiedTo,c=[a&&"base=".concat(a),t&&"symbols=".concat(t),n&&"start_at=".concat(n),r&&"end_at=".concat(r)].filter((function(e){return!!e}));return M(c)},P=function(e){return Object.entries(e).map((function(e){var a=Object(B.a)(e,2);return{currency:a[0],rate:a[1]}}))},U=function(e){return Object.entries(e).map((function(e){var a=Object(B.a)(e,2),t=a[0],n=a[1];return{date:t,rate:Object.values(n)[0]}}))},Y=function(e){if(!e)return null;var a=e.earliest,t=e.oldest;if(a.rate===t.rate)return"0%";var n=a.rate>t.rate?"-":"",r=Math.abs((a.rate-t.rate)/t.rate*100).toFixed(2);return"".concat(n).concat(r,"%")},J=function(e){return e.exchangeRates.result.exchangeRates},V=Object(T.a)(J,(function(e){return e.exchangeRates.amount}),(function(e){return e.exchangeRates.baseCurrency}),(function(e,a,t){return function(e,a,t){return e.map((function(e){return Object(y.a)({},e,{value:a*e.rate})})).filter((function(e){return e.currency!==t}))}(e,a,t)})),Z=Object(T.a)(J,(function(e){return e.length>0})),z=Object(T.a)((function(e){return e.exchangeRates.result.rateHistory}),(function(e){var a,t=(a=e).length<=2?null:{earliest:Object(K.minBy)(a,"date"),oldest:Object(K.maxBy)(a,"date")};return t?Object(y.a)({},t,{progression:Y(t)}):null})),G=t(28),W=t.n(G),q=t(46),X=t(69),$=t.n(X),Q=t(2),ee=function(){var e="https://api.exchangeratesapi.io";return{getLatest:function(){var a=Object(q.a)(W.a.mark((function a(t){var n,r,c;return W.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=I(t),a.next=3,$.a.get("".concat(e,"/latest").concat(Object(Q.a)(n)));case 3:return r=a.sent,c=r.data,a.abrupt("return",c);case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),getHistory:function(){var a=Object(q.a)(W.a.mark((function a(t){var n,r,c;return W.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=A(t),a.next=3,$.a.get("".concat(e,"/history").concat(Object(Q.a)(n)));case 3:return r=a.sent,c=r.data,a.abrupt("return",c);case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}}(),ae=function(e){return function(){var a=Object(q.a)(W.a.mark((function a(t){var n,r,c,o;return W.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t(H({target:"exchangeRates",isLoading:!0})),a.next=3,ee.getLatest({base:e});case 3:(n=a.sent)&&(r=n.rates,c=n.base,o=P(r),t(v({baseCurrency:c})),t(x({resultExchangeRates:o}))),t(H({target:"exchangeRates",isLoading:!1}));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},te=function(e){return function(a){a(C(e))}},ne=t(182),re=t(185),ce=t(187),oe=t(188),se=t(189),le=t(190),ie=t(191),ue=t(192),me=t(193),ge=t(194),de=t(95),fe=t.n(de),pe=t(62),ye=t.n(pe),be=Object(ne.a)({root:{width:"100%"},container:{height:"70vh"}}),he=function(e){var a=e.rows,t=e.isLoading,n=e.viewHistory,r=be();return c.a.createElement(re.a,{className:r.root,elevation:5},c.a.createElement(ce.a,{className:r.container},t?c.a.createElement("div",{className:ye.a.spinner},c.a.createElement(oe.a,null)):c.a.createElement(se.a,{stickyHeader:!0,"aria-label":"exchange rates table"},c.a.createElement(le.a,null,c.a.createElement(ie.a,null,c.a.createElement(ue.a,null,"Currency"),c.a.createElement(ue.a,{align:"right"},"Exchange Rate"),c.a.createElement(ue.a,{align:"right"},"Value"),c.a.createElement(ue.a,{align:"right"},"History"))),c.a.createElement(me.a,null,a.map((function(e){return c.a.createElement(ie.a,{key:e.currency},c.a.createElement(ue.a,{component:"th",scope:"row"},c.a.createElement("span",{className:ye.a.option},c.a.createElement("div",{className:Object(Q.a)("currency-flag currency-flag-".concat(e.currency.toLowerCase()),ye.a.flag)}),c.a.createElement("span",null,e.currency))),c.a.createElement(ue.a,{align:"right"},e.rate),c.a.createElement(ue.a,{align:"right"},function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return e.toFixed(a)}(e.value)),c.a.createElement(ue.a,{align:"right"},c.a.createElement(ge.a,{onClick:(a=e.currency,function(){n(a)}),"aria-label":"history",size:"small"},c.a.createElement(fe.a,{color:"primary"}))));var a}))))))},Ee={fetchExchangeRates:ae,updateSearchConfig:te},ve=Object(l.b)((function(e){return{baseCurrency:e.exchangeRates.baseCurrency,exchangeRatesTableRows:V(e),isLoading:e.exchangeRates.isLoading.exchangeRates,isFetched:Z(e)}}),Ee)((function(e){var a=e.baseCurrency,t=e.isLoading,n=e.isFetched,o=e.exchangeRatesTableRows,s=e.fetchExchangeRates,l=e.updateSearchConfig;Object(r.useEffect)((function(){n||s(a)}),[]);return c.a.createElement(he,{rows:o,isLoading:t,viewHistory:function(e){l({targetCurrency:e})}})})),Re=t(205),Ce=t(207),xe=t(63),_e=t.n(xe),He=function(e){var a=e.value,t=e.setValue,n=e.options,o=e.label,s=e.disableClearable,l=Object(r.useState)(a),i=Object(B.a)(l,2),u=i[0],m=i[1];return c.a.createElement(Ce.a,{disableClearable:s,value:a,onChange:function(e,a){t(a)},inputValue:u,onInputChange:function(e,a){m(a)},options:n,clearOnBlur:!1,renderInput:function(e){return c.a.createElement(Re.a,Object.assign({},e,{variant:"outlined",label:o,InputProps:Object(y.a)({},e.InputProps,{startAdornment:c.a.createElement("div",{className:Object(Q.a)("currency-flag currency-flag-".concat(a.toLowerCase()),_e.a.flag)})})}))},renderOption:function(e){return c.a.createElement("span",{className:_e.a.option},c.a.createElement("div",{className:Object(Q.a)("currency-flag currency-flag-".concat(e.toLowerCase()),_e.a.flag)}),c.a.createElement("span",null,e))}})},Oe=function(e){var a=e.label,t=e.value,n=e.setValue;return c.a.createElement(Re.a,{variant:"outlined",label:a,value:t,onChange:function(e){var a=e.target;n(a.value)},id:"number-input",type:"number",InputProps:{inputProps:{min:0}}})},Ne=t(64),je=t.n(Ne),Se={fetchExchangeRates:ae,changeAmount:function(e){return function(a){a(R({amount:e}))}}},we=Object(l.b)((function(e){return{baseCurrency:e.exchangeRates.baseCurrency,amount:e.exchangeRates.amount}}),Se)((function(e){var a=e.baseCurrency,t=e.amount,r=e.fetchExchangeRates,o=e.changeAmount;return c.a.createElement(re.a,{elevation:5},c.a.createElement("div",{className:je.a.container},c.a.createElement("span",{className:je.a.autocomplete},c.a.createElement(He,{value:a,setValue:function(e){r(e)},options:Object.values(n),label:"Base Currency",disableClearable:!0})),c.a.createElement("span",{className:je.a.number},c.a.createElement(Oe,{value:t,setValue:function(e){o(e)},label:"Amount"}))))})),De=t(198),Le=t(197),Te=t(203),Be=t(204),Ke=t(208),ke=t(196),Fe=t(151),Me=Object(ne.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),Ie=function(e){var a=e.label,t=e.description,n=e.isOpen,r=e.close,o=e.children,s=Me();return c.a.createElement(Ke.a,{"aria-labelledby":a,"aria-describedby":t,open:n,onClose:function(){r()},className:s.modal,closeAfterTransition:!0,BackdropComponent:ke.a,BackdropProps:{timeout:500}},c.a.createElement(Fe.a,{in:n},c.a.createElement("div",{className:s.paper},o)))},Ae=t(98),Pe=t(15),Ue=t(206),Ye=function(e){var a=e.label,t=e.minDate,n=e.maxDate,r=e.selectedDate,o=e.setSelectedDate;return c.a.createElement(Pe.a,{utils:Ae.a},c.a.createElement(Ue.a,{required:!0,disableToolbar:!0,minDate:t,maxDate:n,variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"date-picker",label:a,value:r,onChange:function(e){o(e)},KeyboardButtonProps:{"aria-label":"change date"}}))},Je=t(199),Ve=t(200),Ze=t(201),ze=function(e){var a=e.progression;switch(a[0]){case"-":return c.a.createElement(Je.a,{fontSize:"large",color:"secondary"});case"0":return"%"===a[1]?c.a.createElement(Ve.a,{fontSize:"large",color:"disabled"}):c.a.createElement(Ze.a,{fontSize:"large",style:{color:"green"}});default:return c.a.createElement(Ze.a,{fontSize:"large",style:{color:"green"}})}},Ge=t(17),We=t.n(Ge),qe={updateSearchConfig:te,fetchRateHistory:function(e,a){return function(){var t=Object(q.a)(W.a.mark((function t(n){var r,c,o,s;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(H({target:"rateHistory",isLoading:!0})),r={dateStringifiedFrom:F(e.dateFrom),dateStringifiedTo:F(e.dateTo),symbols:e.targetCurrency,base:a},t.next=4,ee.getHistory(r);case 4:(c=t.sent)&&(o=c.rates,s=U(o),n(_({resultRateHistory:s}))),n(H({target:"rateHistory",isLoading:!1}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},clearRateHistory:function(){return function(e){e(_({resultRateHistory:[]}))}}},Xe=Object(l.b)((function(e){return{baseCurrency:e.exchangeRates.baseCurrency,targetCurrency:e.exchangeRates.rateHistorySearchConfig.targetCurrency,dateFrom:e.exchangeRates.rateHistorySearchConfig.dateFrom,dateTo:e.exchangeRates.rateHistorySearchConfig.dateTo,historySummary:z(e),isLoading:e.exchangeRates.isLoading.rateHistory,rateHistory:e.exchangeRates.result.rateHistory}}),qe)((function(e){var a=e.baseCurrency,t=e.rateHistory,n=e.targetCurrency,o=e.dateFrom,s=e.dateTo,l=e.historySummary,i=e.isLoading,u=e.fetchRateHistory,m=e.clearRateHistory,g=e.updateSearchConfig,d=Object(r.useState)(new Date(o)),f=Object(B.a)(d,2),p=f[0],y=f[1],b=Object(r.useState)(new Date(s)),h=Object(B.a)(b,2),E=h[0],v=h[1],R=Object(r.useState)(n||""),C=Object(B.a)(R,2),x=C[0],_=C[1];Object(r.useEffect)((function(){n&&(u({targetCurrency:n,dateFrom:o,dateTo:s},a),_(n))}),[n]);var H=isNaN(p.getTime())||isNaN(E.getTime())||E.getTime()<p.getTime()||E.getTime()>(new Date).getTime();return c.a.createElement(Ie,{label:"exchange rate history modal",description:"shows detailed history of currency exchange rate",isOpen:!!n,close:function(){g({targetCurrency:null}),m()}},c.a.createElement(L.a,null,c.a.createElement("header",{className:We.a.header},c.a.createElement("span",{className:We.a.title},c.a.createElement(De.a,{noWrap:!0,variant:"h6",component:"span"},"Rate history for:"),c.a.createElement("span",{className:We.a.titleAdorment},c.a.createElement("span",{className:We.a.option},c.a.createElement("div",{className:Object(Q.a)("currency-flag currency-flag-".concat(a.toLowerCase()),We.a.flag)}),c.a.createElement("span",null,a)),c.a.createElement(Te.a,null),c.a.createElement("span",{className:We.a.option},c.a.createElement("div",{className:Object(Q.a)("currency-flag currency-flag-".concat(x.toLowerCase()),We.a.flag)}),c.a.createElement("span",null,x)))),c.a.createElement("span",{className:We.a.controls},c.a.createElement("span",{className:We.a.input},c.a.createElement(Ye,{label:"Starting Date",maxDate:E||new Date,selectedDate:p,setSelectedDate:function(e){y(e)}})),c.a.createElement("span",{className:We.a.input},c.a.createElement(Ye,{label:"Ending Date",minDate:p,maxDate:new Date,selectedDate:E,setSelectedDate:function(e){v(e)}})),c.a.createElement("span",{className:We.a.button},c.a.createElement(Le.a,{variant:"contained",color:"primary",size:"large",startIcon:c.a.createElement(Be.a,null),disabled:H,onClick:function(){u({targetCurrency:n,dateFrom:p,dateTo:E},a)}},"Search")))),c.a.createElement(re.a,{elevation:3},c.a.createElement("main",{className:We.a.main},l?c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:We.a.dates},c.a.createElement(De.a,{variant:"body2",component:"span"},c.a.createElement("strong",null,"Opening rate")," (".concat(l.earliest.date,"): ").concat(l.earliest.rate)),c.a.createElement(De.a,{variant:"body2",component:"span"},c.a.createElement("strong",null,"Closing rate")," (".concat(l.oldest.date,"): ").concat(l.oldest.rate))),c.a.createElement("span",{className:We.a.progression},c.a.createElement(De.a,{variant:"h6",component:"span"},l.progression),c.a.createElement(ze,{progression:l.progression}))):i?c.a.createElement(oe.a,null):t.length>0&&c.a.createElement(De.a,{variant:"body2",component:"span"},"Not enough data to calculate rate progression for given date range.")))))})),$e=(t(148),t(65)),Qe=t.n($e),ea=function(){return c.a.createElement(l.a,{store:w},c.a.createElement(i.a,{loading:null,persistor:D},c.a.createElement(L.a,{maxWidth:"md"},c.a.createElement("section",{className:Qe.a.section},c.a.createElement("header",{className:Qe.a.controls},c.a.createElement(we,null)),c.a.createElement("main",{className:Qe.a.table},c.a.createElement(ve,null))),c.a.createElement(Xe,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(149);s.a.render(c.a.createElement(ea,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},17:function(e,a,t){e.exports={header:"HistoryModal_header__2ut0k",option:"HistoryModal_option__1KCwV",flag:"HistoryModal_flag__3J0Tc",title:"HistoryModal_title__287k5",titleAdorment:"HistoryModal_titleAdorment__lZUFR",controls:"HistoryModal_controls__hNUmr",input:"HistoryModal_input__3uyvm",button:"HistoryModal_button__2Ct7R",main:"HistoryModal_main__2M3KC",dates:"HistoryModal_dates__oZel1",progression:"HistoryModal_progression__39mzV"}},62:function(e,a,t){e.exports={option:"ExchangeRatesTable_option__1_cuc",flag:"ExchangeRatesTable_flag__3Dqoh",spinner:"ExchangeRatesTable_spinner__2a_Gc"}},63:function(e,a,t){e.exports={option:"SearchableSelect_option__CsJJR",flag:"SearchableSelect_flag__3jsR5"}},64:function(e,a,t){e.exports={container:"Controls_container__1HuU8",autocomplete:"Controls_autocomplete__KCKbI",number:"Controls_number__1wJFR"}},65:function(e,a,t){e.exports={section:"App_section__1pkbE",controls:"App_controls__B6h2i"}}},[[116,1,2]]]);
//# sourceMappingURL=main.8f918be9.chunk.js.map